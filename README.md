# DO NOT USE DUMP FILES DOWNLOADED FROM THE INTERNET, THEY CAN BE MADE MALICIOUS
## Information
This tool is a dumper-loader pair based on [jadeite](https://codeberg.org/mkrsym1/jadeite) meant for making a certain Unreal Engine game with a certain anticheat run on Wine. Due to the complexity of the anticheat in question, **the tool currently requires that you have a working Windows install**

**Using third-party software (such as this tool) with the game violates its Terms of Service**. Therefore, **you may receive a ban. Use at your own risk and only if you understand all the possible consequences**

**This is not a cheating tool**. Using it with Windows is not possible, and Windows support is not planned or intended in any way. However, as it does not perform any on-disk game file modifications, you may reuse the same game install for Windows if you have a dual-boot setup

## Requirements
**Wine 9.5+ is strongly recommended. [DXVK](https://github.com/doitsujin/dxvk) seems to be required for the game to start (needs more research)**

**Microsoft Visual C++ Runtime 2015 is required for the game to run**. Not having it will result in errors similar to "Failed to import X::Y". Installation using Winetricks: `winetricks -q vcrun2015`

**GStreamer with proper plugins for h.264-encoded video playback is likely required (needs more research)**:
- **At least the following should be installed**: `gst-plugins-base`, `gst-plugins-good`, `gst-plugins-bad`, `gst-libav` (with `avdec_h264`)
- **It is important to not use** `openh264`, as it causes major issues with video playback, such as stuttering, video artifacts and hangs. `avdec_h264` has a higher rank value, so it will be used instead of the broken decoder automatically if present
- Sometimes, `avdec_h264` is missing from `gst-libav` due to FFmpeg libraries being compiled without h.264 support. In this case, in-game videos will not work correctly. Notably, it's not available by default in Flatpak runtimes: the application maintainer has to compile the FFmpeg libraries with h.264 support manually
- Proton and derivatives (including Wine-GE-Proton) typically include their own GStreamer plugins and use them instead of the system-installed ones, which might either help or cause issues

## Usage
**Please note that "game.exe" refers to `Client/Binaries/Win64/Client-Win64-Shipping.exe`, and not to the executable file on the top level of the game directory**

**Usage instructions**:
- Download the game using the official launcher
- Download the latest release from this repository
- Extract the archive
- (On Windows) Open `cmd` as administrator and start the dumper (ex. as `harmonic_dumper.exe "D:\path\to\game.exe" "D:\path\to\output\dump.dat"`). Accept the game's license agreement if you get the dialog. **Note: wait for a messagebox to appear. Sometimes it can appear behind the game window, so check for that too if it is taking too long. It should not take longer than a minute**
- (On Linux) Use the loader to start the game (ex. as `wine harmonic_loader.exe 'Z:\wine\path\to\game.exe' 'Z:\wine\path\to\dump.dat'`). Specify the dump file generated by the previous step. **DO NOT USE DUMP FILES THAT ARE NOT YOURS**

**Note**: a blank window with two buttons might appear before the game starts. You can ignore it

## Internals and building
To compile, you will need meson, mingw and nasm. You can probably install all three using your repository's package manager. Once all dependencies are installed, run `./build.sh` in this directory. The compiled files will be located in `./out`

A part of the source code is witheld (`game_payload/src/core.c`). This is a forced measure to make abuse more difficult. However, a precompiled blob is provided in the repo. `build.sh` will use it automatically

All source code except `core.c` is available in this repository. You can take a look around

## Guildelines
1. **Please don't share this project in public.** This might attract unnecessary attention from either the Game Company or the Anticheat Company
2. **Please don't abuse this project for cheating.** We're just trying to play the game through Wine

## Troubleshooting
Please do not report any issues with the Game to the official channels. Use the issue tracker of this repository

License: MIT
